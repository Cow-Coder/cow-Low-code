import{d as J,a4 as x,s as k,e as C,o as E,c as B,A as _,y as L,i as R}from"./vendor.30a62ddd.js";import{u as V,M as $}from"./index.680015f2.js";import"./monaco.7ad4e620.js";const v=/("(?:[^\\"]|\\.)*")|[:,]/g;function A(p,o={}){const s=JSON.stringify([1],void 0,o.indent===void 0?2:o.indent).slice(2,-3),l=s===""?1/0:o.maxLength===void 0?80:o.maxLength;let{replacer:f}=o;return function c(e,n,d){e&&typeof e.toJSON=="function"&&(e=e.toJSON());const r=JSON.stringify(e,f);if(r===void 0)return r;const y=l-n.length-d;if(r.length<=y){const i=r.replace(v,(a,t)=>t||`${a} `);if(i.length<=y)return i}if(f!=null&&(e=JSON.parse(r),f=void 0),typeof e=="object"&&e!==null){const i=n+s,a=[];let t=0,g,m;if(Array.isArray(e)){g="[",m="]";const{length:u}=e;for(;t<u;t++)a.push(c(e[t],i,t===u-1?0:1)||"null")}else{g="{",m="}";const u=Object.keys(e),{length:h}=u;for(;t<h;t++){const O=u[t],S=`${JSON.stringify(O)}: `,N=c(e[O],i,S.length+(t===h-1?0:1));N!==void 0&&a.push(S+N)}}if(a.length>0)return[g,s+a.join(`,
${i}`),m].join(`
${n}`)}return r}(p,"",0)}const M=J({name:"CodeTab"}),U=J({...M,setup(p){const o=V(),{jsonCode:s}=x(o),l=k({get:()=>A(s.value,{maxLength:50}),set:e=>{try{const n=JSON.parse(e);s.value=e!==""?n:[]}catch(n){console.error("JSON\u89E3\u6790\u9519\u8BEF",n),R.error("JSON\u89E3\u6790\u9519\u8BEF")}}}),f=C(),c={language:"json",lineNumbers:"off",folding:!1};return(e,n)=>(E(),B($,{ref_key:"codeContainerRef",ref:f,modelValue:_(l),"onUpdate:modelValue":n[0]||(n[0]=d=>L(l)?l.value=d:null),class:"code-container","monaco-options":_(c)},null,8,["modelValue","monaco-options"]))}});export{U as default};
