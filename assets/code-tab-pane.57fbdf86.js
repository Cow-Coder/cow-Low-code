import{j as J,a5 as x,f as k,e as C,o as E,c as B,u as _,D as L,q as R}from"./vendor.de82bbd6.js";import{u as V,M as $}from"./index.cdd1ee68.js";import"./monaco.7ad4e620.js";const v=/("(?:[^\\"]|\\.)*")|[:,]/g;function M(p,o={}){const s=JSON.stringify([1],void 0,o.indent===void 0?2:o.indent).slice(2,-3),f=s===""?1/0:o.maxLength===void 0?80:o.maxLength;let{replacer:l}=o;return function c(e,n,d){e&&typeof e.toJSON=="function"&&(e=e.toJSON());const r=JSON.stringify(e,l);if(r===void 0)return r;const y=f-n.length-d;if(r.length<=y){const i=r.replace(v,(a,t)=>t||`${a} `);if(i.length<=y)return i}if(l!=null&&(e=JSON.parse(r),l=void 0),typeof e=="object"&&e!==null){const i=n+s,a=[];let t=0,g,m;if(Array.isArray(e)){g="[",m="]";const{length:u}=e;for(;t<u;t++)a.push(c(e[t],i,t===u-1?0:1)||"null")}else{g="{",m="}";const u=Object.keys(e),{length:h}=u;for(;t<h;t++){const O=u[t],S=`${JSON.stringify(O)}: `,N=c(e[O],i,S.length+(t===h-1?0:1));N!==void 0&&a.push(S+N)}}if(a.length>0)return[g,s+a.join(`,
${i}`),m].join(`
${n}`)}return r}(p,"",0)}const A=J({name:"CodeTab"}),D=J({...A,setup(p){const o=V(),{jsonCode:s}=x(o),f=k({get:()=>M(s.value,{maxLength:50}),set:e=>{try{const n=JSON.parse(e);s.value=e!==""?n:[]}catch(n){console.error("JSON\u89E3\u6790\u9519\u8BEF",n),R.error("JSON\u89E3\u6790\u9519\u8BEF")}}}),l=C(),c={language:"json",lineNumbers:"off",folding:!1};return(e,n)=>(E(),B($,{ref_key:"codeContainerRef",ref:l,modelValue:_(f),"onUpdate:modelValue":n[0]||(n[0]=d=>L(f)?f.value=d:null),class:"code-container","monaco-options":_(c)},null,8,["modelValue","monaco-options"]))}});export{D as default};
